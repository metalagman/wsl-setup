# Ubuntu Desktop specific setup
# This role is applied only when using the ubuntu-desktop inventory (env: ubuntu-desktop)

- name: Ubuntu Desktop | Update APT cache
  apt:
    update_cache: yes
    cache_valid_time: 3600

- name: Ubuntu Desktop | Install desktop utilities and fonts
  apt:
    name: "{{ desktop_packages }}"
    state: present
  vars:
    desktop_packages:
      - gnome-tweaks
      - gnome-shell-extensions
      - vlc
      - fonts-firacode
      - fonts-jetbrains-mono
  when: ansible_os_family == 'Debian'

# Optional: ensure snapd present on Desktop systems (usually already installed)
- name: Ubuntu Desktop | Ensure snapd is installed
  apt:
    name: snapd
    state: present
  when: ansible_os_family == 'Debian'

- name: Ubuntu Desktop | Import Docker installation tasks
  import_tasks: install_docker.yml
